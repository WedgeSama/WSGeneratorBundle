{#########################################################################
 # This file is part of the WSGeneratorBundle package.
 # 
 # (c) Benjamin Georgeault <https://github.com/WedgeSama/>
 # 
 # For the full copyright and license information, please view the LICENSE
 # file that was distributed with this source code.
 #########################################################################}
<?php

{%- include 'License/license.php.twig' %}
namespace {{ namespace }}\DependencyInjection;

{% block use_statements %}
use Symfony\Component\DependencyInjection\ContainerBuilder;
use Symfony\Component\Config\FileLocator;
use Symfony\Component\HttpKernel\DependencyInjection\Extension;
use Symfony\Component\DependencyInjection\Loader;
{% endblock use_statements %}

{% block class_definition %}
class {{ bundle_basename }}Extension extends Extension {
{% endblock class_definition %}
{% block class_body %}
    public function load(array $configs, ContainerBuilder $container) {
        $configuration = new Configuration();
        $config = $this->processConfiguration($configuration, $configs);

        $loader = new Loader\YamlFileLoader($container,
                new FileLocator(__DIR__.'/../Resources/config'));
        $loader->load('services.yml');
        {% if form -%}
        $loader->load('form.yml');
        {%- endif %}

    }
{% endblock class_body %}
}